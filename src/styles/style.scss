$breakpoint-tablet: 768px;
$gutter: 1rem;
$color-light-grey: #B5BEC4;
$color-grey: #61686f;
$font-family: 'Fira Sans', sans-serif;
$font-size: 18px;

body, ul {
  margin: 0;
}

ul {
  list-style-type: none;
  padding: 0;
}

@mixin radius($width: $gutter/4) {
  border-radius: $width;
}

.is-flex {
  display: flex;
}

.align-end {
  justify-content: flex-end;
}

.justify-center {
  justify-content: center;
}

.flex-column {
  @extend .is-flex;
  flex-direction: column;
}

.flex-center-h {
  @extend .is-flex;
  @extend .justify-center;
}

body {
  background: url("../assets/images/body-bg.png") no-repeat center center;
  background-size: cover;
  overflow: hidden;
}

.chat--window {
  height: 100vh;

  &-viewport {
    overflow-y: auto;
    flex: 1;
  }

  ul {
    padding-top: $gutter + $gutter/2;
    width: 640px;
    margin-left: auto;
    margin-right: auto;

    @media (max-width: $breakpoint-tablet) {
      width: calc(100% - #{$gutter*3});
    }

    li {
      margin-bottom: $gutter;
      @extend .is-flex;

      // exclude padding & border
      $offset: $gutter * 2 - $gutter/4;

      .message {
        background-color: white;
        border: 2px solid #D4DADE;
        padding: $gutter;
        font-size: $gutter;
        max-width: calc(420px - #{$offset});
        font-family: $font-family;
        @include radius();

        @media (max-width: $breakpoint-tablet) {
          max-width: calc(240px - #{$offset});
        }

        span {
          color: $color-light-grey;
        }

        p {
          margin: $gutter/4 0 $gutter/4;
          font-size: $font-size;
          line-height: 2rem;
          color: $color-grey;
        }
      }

      &.outgoing {
        @extend .align-end;

        .message {
          background-color: #FBF6C1;

          p {
            color: $color-grey;
            margin-top: 0;
          }

          .timestamp {
            @extend .is-flex;
            @extend .align-end;
          }
        }
      }
    }
  }

  footer {
    background-color: #2F8CCB;
    padding: $gutter/2;

    form {
      width: 640px;
      height: 60px;

      @media (max-width: $breakpoint-tablet) {
        width: 100%;
      }

      textarea {
        flex: 1;
        background-color: white;
        padding: 1.25rem $gutter/2 $gutter/2;
        border: 2px solid #2E77A4;
        margin-right: $gutter/2;
        resize: none;
        font-family: $font-family;
        font-size: 1rem;
        height: auto;
        min-width: 200px;
        @include radius();

        &::placeholder {
          color: $color-light-grey;
        }

        &:focus {
          outline: none;
        }
      }

      button {
        width: 120px;
        padding: 0;
        background-color: #F7846D;
        border: none;
        color: white;
        cursor: pointer;
        font-family: $font-family;
        font-size: $font-size;
        @include radius();
      }
    }
  }
}